<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ“„node.jsï¼ˆç®€ï¼‰ | Loloya</title>
    <meta name="description" content="äººç”Ÿè‹¦çŸ­,ä½œæ­»å¯»æ¬¢ âœ¨">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.cfcf5ab8.css" as="style"><link rel="preload" href="/assets/js/app.d3efc14e.js" as="script"><link rel="preload" href="/assets/js/2.3a3a5c3a.js" as="script"><link rel="preload" href="/assets/js/4.b75841e9.js" as="script"><link rel="prefetch" href="/assets/js/10.a9daca65.js"><link rel="prefetch" href="/assets/js/11.da12bc9d.js"><link rel="prefetch" href="/assets/js/12.4618ee3d.js"><link rel="prefetch" href="/assets/js/13.ef30e496.js"><link rel="prefetch" href="/assets/js/14.11123a73.js"><link rel="prefetch" href="/assets/js/15.2a8791de.js"><link rel="prefetch" href="/assets/js/16.501f4c9d.js"><link rel="prefetch" href="/assets/js/17.7c687ef5.js"><link rel="prefetch" href="/assets/js/18.2d093817.js"><link rel="prefetch" href="/assets/js/19.8760919d.js"><link rel="prefetch" href="/assets/js/20.02192eef.js"><link rel="prefetch" href="/assets/js/21.64349d94.js"><link rel="prefetch" href="/assets/js/22.d9c5ce44.js"><link rel="prefetch" href="/assets/js/23.2465dc59.js"><link rel="prefetch" href="/assets/js/24.7ee60829.js"><link rel="prefetch" href="/assets/js/25.ec0d75d8.js"><link rel="prefetch" href="/assets/js/26.e8884916.js"><link rel="prefetch" href="/assets/js/27.17bc2875.js"><link rel="prefetch" href="/assets/js/3.b1dc7b00.js"><link rel="prefetch" href="/assets/js/5.71e06a64.js"><link rel="prefetch" href="/assets/js/6.a90ce58d.js"><link rel="prefetch" href="/assets/js/7.93734918.js"><link rel="prefetch" href="/assets/js/8.aefe1e94.js"><link rel="prefetch" href="/assets/js/9.3f7cb3a9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cfcf5ab8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Loloya</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/pages/BBS.html" class="sidebar-link">ğŸ‘»</a></li><li><a href="/pages/about.html" class="sidebar-link">è¿™ä¸ªåšå®¢çš„è¯ç”Ÿ</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML + CSSåŸºç¡€</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JSåŸºç¡€(ES5)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JSåŸºç¡€(ES6+)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RegExp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>åšå®¢ç›¸å…³</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Lunix</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PHP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>NODE</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/nodeJS/_brief.html" class="active sidebar-link">ğŸ“„node.jsï¼ˆç®€ï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/nodeJS/_brief.html#å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-fs-ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰" class="sidebar-link">å¸¸ç”¨æ ¸å¿ƒæ¨¡å— fs ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰</a></li><li class="sidebar-sub-header"><a href="/pages/nodeJS/_brief.html#å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-path-ï¼ˆè·¯å¾„ï¼‰" class="sidebar-link">å¸¸ç”¨æ ¸å¿ƒæ¨¡å— path ï¼ˆè·¯å¾„ï¼‰</a></li><li class="sidebar-sub-header"><a href="/pages/nodeJS/_brief.html#å¸¸ç”¨çš„æ¨¡å—-module-ï¼ˆæ¨¡å—æ ‡è¯†ï¼‰" class="sidebar-link">å¸¸ç”¨çš„æ¨¡å— module ï¼ˆæ¨¡å—æ ‡è¯†ï¼‰</a></li><li class="sidebar-sub-header"><a href="/pages/nodeJS/_brief.html#" class="sidebar-link"></a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ğŸ“„node-jsï¼ˆç®€ï¼‰"><a href="#ğŸ“„node-jsï¼ˆç®€ï¼‰" aria-hidden="true" class="header-anchor">#</a> ğŸ“„node.jsï¼ˆç®€ï¼‰</h1> <p>node çš„ç»„æˆéƒ¨åˆ†ï¼ŒECMAscriptæ ¸å¿ƒ+ å…¨å±€æˆå‘˜+ æ ¸å¿ƒAPIæˆå‘˜</p> <h2 id="å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-fs-ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰"><a href="#å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-fs-ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰" aria-hidden="true" class="header-anchor">#</a> å¸¸ç”¨æ ¸å¿ƒæ¨¡å— fs ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰</h2> <blockquote><p>const fs = require('fs');</p></blockquote> <ul><li><code>fs.readFile</code></li> <li><code>fs.writeFile</code></li></ul> <h3 id="æ–‡ä»¶è¯»å–-fs-readfile"><a href="#æ–‡ä»¶è¯»å–-fs-readfile" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶è¯»å– <code>fs.readFile()</code></h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.readFile(file-path , base-type , callback(ERR,DATA) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š è¯»å–æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œé»˜è®¤æ˜¯null</li> <li>å‚æ•°3 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ï¼Œ ç¬¬äºŒä¸ªå‚æ•°<code>DATA</code>æ˜¯è¯»å–æˆåŠŸåè¿”å›çš„å€¼</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¼•å…¥æ–‡ä»¶æ¨¡å—</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./name.txt'</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">if</span> err console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//å°†ä¼šè¯»å–åˆ°name.txt æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œ æ§åˆ¶å°ä¼šæ‰“å°å‡ºå…¶å†…å®¹</span>
</code></pre></div><h3 id="æ–‡ä»¶å†™å…¥-fs-writefile"><a href="#æ–‡ä»¶å†™å…¥-fs-writefile" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶å†™å…¥ <code>fs.writeFile()</code></h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.writeFile(file-path , body|string , base-type(å¯é€‰) , callback(ERR) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š å†™å…¥çš„æ•°æ®å¯ä»¥ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²</li> <li>å‚æ•°3 ï¼š ï¼ˆå¯é€‰å‚æ•°ï¼‰å†™å…¥æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œé»˜è®¤æ˜¯utf8 ï¼Œ<strong>ä¸€èˆ¬è¯¥å‚æ•°ä¸å†™</strong></li> <li>å‚æ•°4 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">'ä½ å¥½å•Š'</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'./name.txt'</span><span class="token punctuation">,</span> body<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> err <span class="token operator">||</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹æˆåŠŸ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//æœ€ç»ˆä¼šå°†name.txt æ–‡ä»¶ä¸­çš„å†…å®¹ä¿®æ”¹æˆâ€˜ä½ å¥½å•Šâ€™ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°å‡ºæˆåŠŸ</span>
</code></pre></div><div class="warning custom-block"><p>å½“æ–‡ä»¶è·¯å¾„æ‰€æŒ‡å‘çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œ æ€ä¹ˆä¼šè‡ªåŠ¨åˆ›å»ºè¯¥ç›®æ ‡æ–‡ä»¶ ï¼Œç„¶åå†å†™å…¥ ã€‚<br>
å¦‚æœç›®æ ‡æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¼šè¦†ç›–ä¹‹å‰çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´åŸæ–‡ä»¶çš„å†…å®¹ä¼šè¢«å…¨éƒ¨è¦†ç›– ã€‚</p></div> <h3 id="æ–‡ä»¶è¿½åŠ -fs-appendfile"><a href="#æ–‡ä»¶è¿½åŠ -fs-appendfile" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶è¿½åŠ  <code>fs.appendFile()</code></h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.appendFile(file-path , body|string , base-type(å¯é€‰) , callback(ERR) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š è¿½åŠ çš„æ•°æ®å¯ä»¥ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²</li> <li>å‚æ•°3 ï¼š ï¼ˆå¯é€‰å‚æ•°ï¼‰å†™å…¥æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œé»˜è®¤æ˜¯utf8 ï¼Œ<strong>ä¸€èˆ¬è¯¥å‚æ•°ä¸å†™</strong></li> <li>å‚æ•°4 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> body <span class="token operator">=</span> <span class="token string">'XX'</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">'./name.txt'</span><span class="token punctuation">,</span> body<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> err<span class="token operator">||</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿½åŠ æˆåŠŸ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//æœ€ç»ˆä¼šå°†name.txt æ–‡ä»¶ä¸­çš„å†…å®¹ä¿®æ”¹æˆâ€˜ä½ å¥½å•ŠXXâ€™ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°å‡ºè¿½åŠ æˆåŠŸ</span>
</code></pre></div><h3 id="æ–‡ä»¶ä¿¡æ¯-fs-stat"><a href="#æ–‡ä»¶ä¿¡æ¯-fs-stat" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶ä¿¡æ¯ <code>fs.stat()</code></h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.stat(file-path , callback(ERR,STAT) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°<code>STAT</code>åˆ™ä¿å­˜äº†è¯¥æ–‡ä»¶å¯¹åº”çš„ä¿¡æ¯</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'./name.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>stat</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> err<span class="token operator">||</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//æœ€ç»ˆä¼šæ‰“å°ä¸€ä¸ªStats Classç±»</span>
</code></pre></div><details><summary><b>è¿”å›çš„statç±»</b>Stats Class </summary> <p><i>{</i></p> <p>dev: 3402122002,</p> <p>mode: 33206,</p> <p>nlink: 1,</p> <p>uid: 0,</p> <p>gid: 0,</p> <p>rdev: 0,</p> <p>blksize: undefined,</p> <p>ino: 3940649673971447,</p> <p>size: 4,</p> <p>blocks: undefined,</p> <p>atimeMs: 1561965169025,</p> <p>mtimeMs: 1561969503395.9531,</p> <p>ctimeMs: 1561969503395.9531,</p> <p>birthtimeMs: 1561965169025.0808,</p> <p>atime: 2019-07-01T07:12:49.025Z,</p> <p>mtime: 2019-07-01T08:25:03.396Z,</p> <p>ctime: 2019-07-01T08:25:03.396Z,</p> <p>birthtime: 2019-07-01T07:12:49.025Z</p> <p><i>}</i></p></details> <h3 id="æ–‡ä»¶å†…ç›®å½•ä¿¡æ¯-fs-readdir-ï¼ˆå¼‚æ­¥ï¼‰"><a href="#æ–‡ä»¶å†…ç›®å½•ä¿¡æ¯-fs-readdir-ï¼ˆå¼‚æ­¥ï¼‰" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶å†…ç›®å½•ä¿¡æ¯ <code>fs.readdir()</code> ï¼ˆå¼‚æ­¥ï¼‰</h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.readdir(file-path , callback(ERR,FILE) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°<code>FILE</code>åˆ™ä¿å­˜äº†è¯¥æ–‡ä»¶ç›®å½•å¯¹åº”çš„ä¿¡æ¯</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//æ³¨æ„è¯¥æ“ä½œæ˜¯å¼‚æ­¥çš„</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'./name'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> err<span class="token operator">||</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//æœ€ç»ˆä¼šè®®æ•°ç»„çš„æ–¹å¼æ‰“å°å‡ºç»“æœç±»ä¼¼å¦‚ä¸‹çš„æ ¼å¼æ‰“å°å‡ºæ¥</span>
<span class="token comment">//[ 'dc', 'idnex.html', 'index.css', 'index.js' ]</span>
</code></pre></div><h3 id="æ–‡ä»¶æ‹·è´-fs-copyfile-ï¼ˆå¼‚æ­¥ï¼‰"><a href="#æ–‡ä»¶æ‹·è´-fs-copyfile-ï¼ˆå¼‚æ­¥ï¼‰" aria-hidden="true" class="header-anchor">#</a> æ–‡ä»¶æ‹·è´ <code>fs.copyFile()</code> ï¼ˆå¼‚æ­¥ï¼‰</h3> <blockquote><p>è¯­æ³• ï¼š <code>fs.copyFile(src , dest , callback(ERR,FILE) )</code></p></blockquote> <ul><li>å‚æ•°1 ï¼š æ–‡ä»¶è·¯å¾„</li> <li>å‚æ•°2 ï¼š æ–‡ä»¶è¯»å–å®Œæˆçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°<code>ERR</code>å¯¹è±¡,å¦‚æœè¯»å–æ²¡æœ‰å‡ºé”™ï¼Œ <code>ERR</code>ä¼šæ˜¯<code>null</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°<code>FILE</code>åˆ™ä¿å­˜äº†è¯¥æ–‡ä»¶ç›®å½•å¯¹åº”çš„ä¿¡æ¯</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token string">'æºæ–‡ä»¶.txt'</span><span class="token punctuation">,</span> <span class="token string">'ç›®æ ‡æ–‡ä»¶.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æºæ–‡ä»¶å·²æ‹·è´åˆ°ç›®æ ‡æ–‡ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é»˜è®¤æƒ…å†µä¸‹å°†åˆ›å»ºæˆ–è¦†ç›–ç›®æ ‡æ–‡ä»¶ã€‚</span>
</code></pre></div><h2 id="å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-path-ï¼ˆè·¯å¾„ï¼‰"><a href="#å¸¸ç”¨æ ¸å¿ƒæ¨¡å—-path-ï¼ˆè·¯å¾„ï¼‰" aria-hidden="true" class="header-anchor">#</a> å¸¸ç”¨æ ¸å¿ƒæ¨¡å— path ï¼ˆè·¯å¾„ï¼‰</h2> <blockquote><p>const path = require('path');</p></blockquote> <div class="warning custom-block"><p>path æ¨¡å—çš„é»˜è®¤æ“ä½œå›  Node.js åº”ç”¨ç¨‹åºè¿è¡Œæ‰€åœ¨çš„æ“ä½œç³»ç»Ÿè€Œå¼‚ã€‚ å…·ä½“æ¥è¯´ï¼Œå½“åœ¨ Windows æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œæ—¶ï¼Œ path æ¨¡å—å°†å‡å®šæ­£åœ¨ä½¿ç”¨ Windows é£æ ¼çš„è·¯å¾„ã€‚<br> <a href="http://nodejs.cn/api/path.html" target="_blank" rel="noopener noreferrer">nodejsä¸­æ–‡path-Windows ä¸ POSIX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
å…¼å®¹å†™æ³• <code>ath.win32</code></p></div> <h3 id="path-basename-path-ext"><a href="#path-basename-path-ext" aria-hidden="true" class="header-anchor">#</a> path.basename(path[, ext])</h3> <p>path.basename() æ–¹æ³•è¿”å› path çš„æœ€åä¸€éƒ¨åˆ†</p> <div class="language-js extra-class"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'/foo/bar/baz/asdf/quux.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›: 'quux.html'</span>

path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'/foo/bar/baz/asdf/quux.html'</span><span class="token punctuation">,</span> <span class="token string">'.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›: 'quux'</span>
</code></pre></div><h3 id="path-dirname-path"><a href="#path-dirname-path" aria-hidden="true" class="header-anchor">#</a> path.dirname(path)</h3> <p>path.dirname() æ–¹æ³•è¿”å› path çš„ç›®å½•å</p> <div class="language-js extra-class"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token string">'/foo/bar/baz/asdf/quux'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿”å›: '/foo/bar/baz/asdf'</span>
</code></pre></div><h3 id="path-extname-path"><a href="#path-extname-path" aria-hidden="true" class="header-anchor">#</a> path.extname(path)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//POSIX </span>
path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'C:\\temp\\myfile.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›: 'C:\\temp\\myfile.html'</span>

<span class="token comment">//windows</span>
path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'C:\\temp\\myfile.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›: 'myfile.html'</span>

<span class="token comment">//windeows + POSIX </span>
path<span class="token punctuation">.</span>win32<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'C:\\temp\\myfile.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›: 'myfile.html'</span>
</code></pre></div><h2 id="å¸¸ç”¨çš„æ¨¡å—-module-ï¼ˆæ¨¡å—æ ‡è¯†ï¼‰"><a href="#å¸¸ç”¨çš„æ¨¡å—-module-ï¼ˆæ¨¡å—æ ‡è¯†ï¼‰" aria-hidden="true" class="header-anchor">#</a> å¸¸ç”¨çš„æ¨¡å— module ï¼ˆæ¨¡å—æ ‡è¯†ï¼‰</h2> <ul><li><code>module</code> æ˜¯CommonJSè§„èŒƒä¸­å®šä¹‰çš„ä¸€ä¸ªå¯¹è±¡ï¼Œ è¡¨ç¤ºå½“å‰è¿™ä¸ªå…·ä½“çš„JSæ¨¡å—</li> <li>CommonJSçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<code>require</code>æ–¹æ³•æ¥åŒæ­¥åŠ è½½ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œé€šè¿‡<code>module.exports</code>å¯¼å‡ºéœ€è¦æš´éœ²çš„æ¥å£</li></ul> <h3 id="exports-module-exports-æš´éœ²æ¨¡å—æˆå‘˜"><a href="#exports-module-exports-æš´éœ²æ¨¡å—æˆå‘˜" aria-hidden="true" class="header-anchor">#</a> <code>exports</code>/<code>module.exports</code> æš´éœ²æ¨¡å—æˆå‘˜</h3> <ul><li>Nodeä¸ºæ¯ä¸ªæ¨¡å—æä¾›ä¸€ä¸ªexportså˜é‡ï¼ŒæŒ‡å‘module.exportsã€‚
ç­‰åŒäºåœ¨æ¯ä¸€ä¸ªé¡µé¢ç¬¬ä¸€è¡Œå­˜åœ¨ä¸€è¡Œä»£ç <code>let exports = module.exports;</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .</span>
<span class="token comment">// â”œâ”€ utils.js</span>
<span class="token comment">// â””â”€ app.js</span>
<span class="token comment">//utils.js</span>
    <span class="token keyword">let</span> appid <span class="token operator">=</span> <span class="token string">'123'</span>
    <span class="token keyword">let</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`idç¼–å·ï¼š </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
        appid<span class="token punctuation">,</span>bar
    <span class="token punctuation">}</span>

    <span class="token comment">// æˆ–è€…ç›´æ¥å†™</span>
    <span class="token comment">// exports.appid = appid</span>
    <span class="token comment">// exports.bar = bar</span>
</code></pre></div><h3 id="require-å‡½æ•°ç”¨äºå¼•ç”¨æŸä¸ªæ¨¡å—"><a href="#require-å‡½æ•°ç”¨äºå¼•ç”¨æŸä¸ªæ¨¡å—" aria-hidden="true" class="header-anchor">#</a> <code>require()</code>å‡½æ•°ç”¨äºå¼•ç”¨æŸä¸ªæ¨¡å—</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//app.js</span>
    <span class="token keyword">let</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils'</span><span class="token punctuation">)</span> <span class="token comment">// é€šè¿‡requireå¼•å…¥utils</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span>appid<span class="token punctuation">)</span> <span class="token comment">// 12345</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>utils<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ç¼–å·ï¼š2</span>
</code></pre></div><h3 id="module-exportså’Œexpportsçš„åŒºåˆ«"><a href="#module-exportså’Œexpportsçš„åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> <code>module.exports</code>å’Œ<code>expports</code>çš„åŒºåˆ«</h3> <ul><li><code>module.exports</code>å’Œ<code>exports</code>é»˜è®¤å¼•ç”¨äº†<strong>åŒä¸€ä¸ª</strong>ç©ºå¯¹è±¡</li> <li><code>module.exports</code>å’Œ<code>exports</code>éƒ½å¯ä»¥å‘å¤–æš´éœ²æˆå‘˜</li> <li><code>module.exports</code>æ°¸è¿œæ˜¯æœ€ç»ˆçš„å¯¼å‡ºæ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥å°†<code>exports</code>å½“ä½œæ˜¯<code>module.exports</code>çš„ç®€å†™</li> <li><code>exports</code>ç±»ä¼¼äºåœ¨æ¯ä¸€ä¸ªæ–‡ä»¶é¦–è¡Œæ·»åŠ äº†<code>let exports = module.exports</code>ä»£ç ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸å¯ä»¥ä½¿ç”¨<code>exports = XXX</code>çš„æ–¹å¼</li></ul> <div class="warning custom-block"><p>æ³¨æ„ï¼Œä¸Šé¢çš„ä»£ç æˆ‘ä»¬ä½¿ç”¨<code>module.exports = {}</code> ä½†æ˜¯æˆ‘ä»¬ä¸å¯ä»¥ä½¿ç”¨ <code>exports = {}</code>ï¼Œè¯¥å†™æ³•ä¼šåˆ‡æ–­<code>exports</code>ä¸<code>module.exports</code>çš„è”ç³»<br>
âŒ<code>exports = XXX</code><br>
âœ” <code>exports.XXX = XXX</code> æˆ–è€… <code>module.exports</code></p></div> <div class="tip custom-block"><p>æ¨èä½¿ç”¨ <code>module.exports</code></p></div> <h2 id=""><a href="#" aria-hidden="true" class="header-anchor">#</a></h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/php/_brief.html" class="prev">
          ğŸ“„phpï¼ˆç®€ï¼‰
        </a></span> <span class="next"><a href="/pages/helpLink.html">
          ğŸ› ï¸Tools
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d3efc14e.js" defer></script><script src="/assets/js/2.3a3a5c3a.js" defer></script><script src="/assets/js/4.b75841e9.js" defer></script>
  </body>
</html>
